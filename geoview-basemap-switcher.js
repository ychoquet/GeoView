"use strict";(self.webpackChunkgeoview_core=self.webpackChunkgeoview_core||[]).push([[475],{2152:(e,a,t)=>{var r=t(1292),s=t(4702),n=t(19),i=t(9510),o=t(2746),p=t(7576),l=t(3110),c=t(7287),m=t(3457),u=t(5202);function d(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,r)}return t}function b(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?d(Object(t),!0).forEach((function(a){(0,l.Z)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var h=window;function f(e){var a=e.mapId,t=h.cgpv,r=t.api,s=t.react,n=t.ui,i=t.useTranslation,o=s.useState,p=s.useEffect,l=n.makeStyles((function(){return{listContainer:{overflowY:"scroll",height:"600px"},card:{boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2)",transition:"0.3s",borderRadius:"5px","&:hover":{boxShadow:"0 8px 16px 0 rgba(0, 0, 0, 0.2)"},marginBottom:10,height:"120px",width:"100%",display:"block",position:"relative"},thumbnail:{borderRadius:"5px",position:"absolute",height:"100%",width:"100%",opacity:.8},container:{background:"rgba(0,0,0,.68)",color:"#fff",overflow:"hidden",textOverflow:"ellipsis",height:"40px",display:"flex",alignItems:"center",padding:"0 5px",boxSizing:"border-box",position:"absolute",left:0,bottom:0,width:"inherit"}}})),c=o([]),d=(0,m.Z)(c,2),f=d[0],x=d[1],g=l(),y=i().t,v=function(e,t){var s=r.map(a).basemap.basemaps.filter((function(a){return a.id===e}));if(0===s.length){var n=b(b({},t),{},{id:e});r.map(a).basemap.createBasemap(n)}},C=function(e){r.map(a).basemap.setBasemap(e)};return p((function(){var e=r.map(a).basemap.basemaps;x(e),v("transportWithLabels",{name:y("basemap-transport-label.name"),type:"transport_label",description:"This Canadian basemap provides geographic context with bilingual labels and an emphasis on transportation networks. From Natural Resources Canada.",descSummary:"",altText:y("basemap-transport-label.name"),thumbnailUrl:"",layers:[{id:"transport",type:"transport",url:"https://geoappext.nrcan.gc.ca/arcgis/rest/services/BaseMaps/CBMT_CBCT_GEOM_3978/MapServer/WMTS/tile/1.0.0/CBMT_CBCT_GEOM_3978/default/default028mm/{z}/{y}/{x}.jpg",opacity:1,basemapPaneName:"transport",options:{tms:!1,tileSize:1,noWrap:!1,attribution:!1}},{id:"label",type:"label",url:"https://geoappext.nrcan.gc.ca/arcgis/rest/services/BaseMaps/xxxx_TXT_3978/MapServer/WMTS/tile/1.0.0/xxxx_TXT_3978/default/default028mm/{z}/{y}/{x}.jpg".replaceAll("xxxx",y("layer.type")),opacity:1,basemapPaneName:"label",options:{tms:!1,tileSize:1,noWrap:!1,attribution:!1}}],attribution:"test attribution",zoomLevels:{min:0,max:0}}),v("transportWithNoLabels",{name:y("basemap-transport.name"),type:"transport",description:"This Canadian basemap provides geographic context that emphasis on transportation networks. From Natural Resources Canada.",descSummary:"",altText:y("basemap-transport.name"),thumbnailUrl:"",layers:[{id:"transport",type:"transport",url:"https://geoappext.nrcan.gc.ca/arcgis/rest/services/BaseMaps/CBMT_CBCT_GEOM_3978/MapServer/WMTS/tile/1.0.0/CBMT_CBCT_GEOM_3978/default/default028mm/{z}/{y}/{x}.jpg",opacity:1,basemapPaneName:"transport",options:{tms:!1,tileSize:1,noWrap:!1,attribution:!1}}],attribution:"test attribution",zoomLevels:{min:0,max:0}}),v("shadedRelief",{name:y("basemap-shaded.name"),type:"shaded",description:'":"This Canadian base map provides geographic context using shaded relief. From Natural Resources Canada.',descSummary:"",altText:y("basemap-shaded.name"),thumbnailUrl:"",layers:[{id:"shaded",type:"shaded",url:"https://geoappext.nrcan.gc.ca/arcgis/rest/services/BaseMaps/CBME_CBCE_HS_RO_3978/MapServer/WMTS/tile/1.0.0/CBMT_CBCT_GEOM_3978/default/default028mm/{z}/{y}/{x}.jpg",opacity:1,basemapPaneName:"shaded",options:{tms:!1,tileSize:1,noWrap:!1,attribution:!1}}],attribution:"test attribution",zoomLevels:{min:0,max:0}}),v("shadedLabel",{name:y("basemap-shaded-label.name"),type:"shaded_label",description:'":"This Canadian base map provides geographic context using shaded relief with labels. From Natural Resources Canada.',descSummary:"",altText:y("basemap-shaded-label.name"),thumbnailUrl:"",layers:[{id:"shaded",type:"shaded",url:"https://geoappext.nrcan.gc.ca/arcgis/rest/services/BaseMaps/CBME_CBCE_HS_RO_3978/MapServer/WMTS/tile/1.0.0/CBMT_CBCT_GEOM_3978/default/default028mm/{z}/{y}/{x}.jpg",opacity:1,basemapPaneName:"shaded",options:{tms:!1,tileSize:1,noWrap:!1,attribution:!1}},{id:"label",type:"label",url:"https://geoappext.nrcan.gc.ca/arcgis/rest/services/BaseMaps/xxxx_TXT_3978/MapServer/WMTS/tile/1.0.0/xxxx_TXT_3978/default/default028mm/{z}/{y}/{x}.jpg".replaceAll("xxxx",y("layer.type")),opacity:1,basemapPaneName:"label",options:{tms:!1,tileSize:1,noWrap:!1,attribution:!1}}],attribution:"test attribution",zoomLevels:{min:0,max:0}})}),[]),(0,u.jsx)("div",{className:g.listContainer,children:f.map((function(e){return(0,u.jsxs)("div",{role:"button",tabIndex:0,className:g.card,onClick:function(){return C(e.id)},onKeyPress:function(){return C(e.id)},children:["string"==typeof e.thumbnailUrl&&(0,u.jsx)("img",{src:e.thumbnailUrl,alt:e.altText,className:g.thumbnail}),Array.isArray(e.thumbnailUrl)&&e.thumbnailUrl.map((function(a,t){return(0,u.jsx)("img",{src:a,alt:e.altText,className:g.thumbnail},t)})),(0,u.jsx)("div",{className:g.container,children:e.name})]},e.id)}))})}function x(e){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=(0,p.Z)(e);if(a){var s=(0,p.Z)(this).constructor;t=Reflect.construct(r,arguments,s)}else t=r.apply(this,arguments);return(0,o.Z)(this,t)}}var g=window,y=function(e){(0,i.Z)(t,e);var a=x(t);function t(e,s){var i;return(0,r.Z)(this,t),i=a.call(this,e,s),(0,l.Z)((0,n.Z)(i),"translations",(0,c.ZQ)({"en-CA":{basemapSwitcher:"Basemaps","basemap-transport-label":{name:"Transport with Labels",desc:""},"basemap-transport":{name:"Transport without labels",desc:""},"basemap-shaded":{name:"Shaded Relief",desc:""},"basemap-shaded-label":{name:"Shaded Relief with Labels",desc:""},layer:{type:"CBMT"}},"fr-CA":{basemapSwitcher:"Fond de carte","basemap-transport-label":{name:"Transport avec des étiquettes",desc:""},"basemap-transport":{name:"Transport sans étiquettes",desc:""},"basemap-shaded":{name:"Relief ombré",desc:""},"basemap-shaded-label":{name:"Relief ombré avec étiquettes",desc:""},layer:{type:"CBCT"}}})),(0,l.Z)((0,n.Z)(i),"added",(function(){var e=i.pluginProps.mapId,a=g.cgpv;if(a){var t,r,s=a.api,n=s.map(e).language,o={tooltip:i.translations[n].basemapSwitcher,tooltipPlacement:"right",icon:'<i class="material-icons">map</i>',type:"textWithIcon"},p={title:i.translations[n].basemapSwitcher,icon:'<i class="material-icons">map</i>',width:200};i.buttonPanel=s.map(e).appBarButtons.createAppbarPanel(o,p,null),null===(t=i.buttonPanel)||void 0===t||null===(r=t.panel)||void 0===r||r.changeContent((0,u.jsx)(f,{mapId:e}))}})),i.buttonPanel=null,i}return(0,s.Z)(t,[{key:"removed",value:function(){var e=this.pluginProps.mapId,a=g.cgpv;if(a){var t=a.api;this.buttonPanel&&t.map(e).appBarButtons.removeAppbarPanel(this.buttonPanel.id)}}}]),t}(c.EV);g.plugins=g.plugins||{},g.plugins["basemap-switcher"]=(0,c.RF)(y)}},e=>{var a;a=2152,e(e.s=a)}]);