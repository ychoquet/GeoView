{"version":3,"file":"corePackages/geoview-layers-panel.js","mappings":"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","sources":["webpack://geoview-core/../geoview-layers-panel/src/layer-stepper.tsx","webpack://geoview-core/../geoview-layers-panel/src/layers-list.tsx","webpack://geoview-core/../geoview-layers-panel/src/panel-content.tsx","webpack://geoview-core/../geoview-layers-panel/src/index.tsx"],"sourcesContent":["/* eslint-disable react/require-default-props */\r\nimport {\r\n  TypeWindow,\r\n  toJsonObject,\r\n  TypeJsonArray,\r\n  TypeEsriDynamicLayerEntryConfig,\r\n  TypeWmsLayerEntryConfig,\r\n  TypeWMSLayerConfig,\r\n  TypeGeoviewLayerConfig,\r\n  TypeGeoviewLayerType,\r\n  SelectChangeEvent,\r\n  snackbarMessagePayload,\r\n  ButtonPropsLayerPanel,\r\n  TypeListOfLayerEntryConfig,\r\n} from 'geoview-core';\r\n\r\ntype Event = { target: { value: string } };\r\n\r\ninterface Props {\r\n  mapId: string;\r\n  setAddLayerVisible: (isVisible: boolean) => void;\r\n}\r\n\r\ntype EsriOptions = {\r\n  err: string;\r\n  capability: string;\r\n};\r\n\r\nconst w = window as TypeWindow;\r\n\r\n/**\r\n * A react component that displays the details panel content\r\n *\r\n * @returns {JSX.Element} A React JSX Element with the details panel\r\n */\r\nfunction LayerStepper({ mapId, setAddLayerVisible }: Props): JSX.Element {\r\n  const { cgpv } = w;\r\n  const { api, react, ui } = cgpv;\r\n\r\n  const { ESRI_DYNAMIC, ESRI_FEATURE, GEOJSON, WMS, WFS, OGC_FEATURE, XYZ_TILES } = api.layerTypes;\r\n  const { useState } = react;\r\n  const { Select, Stepper, TextField, Button, ButtonGroup, Typography, Autocomplete } = ui.elements;\r\n\r\n  const [activeStep, setActiveStep] = useState(0);\r\n  const [layerURL, setLayerURL] = useState('');\r\n  const [layerType, setLayerType] = useState<TypeGeoviewLayerType | ''>('');\r\n  const [layerList, setLayerList] = useState<TypeJsonArray[]>([]);\r\n  const [layerName, setLayerName] = useState('');\r\n  const [layerEntries, setLayerEntries] = useState<(TypeEsriDynamicLayerEntryConfig | TypeWMSLayerConfig)[]>([]);\r\n\r\n  const useStyles = ui.makeStyles(() => ({\r\n    buttonGroup: {\r\n      paddingTop: 12,\r\n      gap: 6,\r\n    },\r\n  }));\r\n  const classes = useStyles();\r\n\r\n  const isMultiple = () => layerType === ESRI_DYNAMIC;\r\n\r\n  /**\r\n   * List of layer types and labels\r\n   */\r\n  const layerOptions = [\r\n    [ESRI_DYNAMIC, 'ESRI Dynamic Service'],\r\n    [ESRI_FEATURE, 'ESRI Feature Service'],\r\n    [GEOJSON, 'GeoJSON'],\r\n    [WMS, 'OGC Web Map Service (WMS)'],\r\n    [WFS, 'OGC Web Feature Service (WFS)'],\r\n    [OGC_FEATURE, 'OGC API Features'],\r\n    [XYZ_TILES, 'XYZ Raster Tiles'],\r\n  ];\r\n\r\n  /**\r\n   * Returns the appropriate error config for ESRI layer types\r\n   *\r\n   * @param type one of esriDynamic or esriFeature\r\n   * @returns {EsriOptions} an error configuration object for populating dialogues\r\n   */\r\n  const esriOptions = (type: string): EsriOptions => {\r\n    switch (type) {\r\n      case ESRI_DYNAMIC:\r\n        return { err: 'ESRI Map', capability: 'Map' };\r\n      case ESRI_FEATURE:\r\n        return { err: 'ESRI Feature', capability: 'Query' };\r\n      default:\r\n        return { err: '', capability: '' };\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Emits an error dialogue when a text field is empty\r\n   *\r\n   * @param textField label for the TextField input that cannot be empty\r\n   */\r\n  const emitErrorEmpty = (textField: string) => {\r\n    api.event.emit(\r\n      snackbarMessagePayload(api.eventNames.SNACKBAR.EVENT_SNACKBAR_OPEN, mapId, {\r\n        type: 'string',\r\n        value: `${textField} cannot be empty`,\r\n      })\r\n    );\r\n  };\r\n\r\n  /**\r\n   * Emits an error when the URL does not support the selected service type\r\n   *\r\n   * @param serviceName type of service provided by the URL\r\n   */\r\n  const emitErrorServer = (serviceName: string) => {\r\n    api.event.emit(\r\n      snackbarMessagePayload(api.eventNames.SNACKBAR.EVENT_SNACKBAR_OPEN, mapId, {\r\n        type: 'string',\r\n        value: `URL is not a valid ${serviceName} Server`,\r\n      })\r\n    );\r\n  };\r\n\r\n  /**\r\n   * Emits an error when a service does not support the current map projection\r\n   *\r\n   * @param serviceName type of service provided by the URL\r\n   * @param proj current map projection\r\n   */\r\n  const emitErrorProj = (serviceName: string, proj: string | undefined, supportedProj: TypeJsonArray | string[]) => {\r\n    api.event.emit(\r\n      snackbarMessagePayload(api.eventNames.SNACKBAR.EVENT_SNACKBAR_OPEN, mapId, {\r\n        type: 'string',\r\n        value: `${serviceName} does not support current map projection ${proj}, only ${supportedProj.join(', ')}`,\r\n      })\r\n    );\r\n  };\r\n\r\n  /**\r\n   * Using the layerURL state object, check whether URL is a valid WMS,\r\n   * and add either Name and Entry directly to state if a single layer,\r\n   * or a list of Names / Entries if multiple layer options exist.\r\n   *\r\n   * @returns {Promise<boolean>} True if layer passes validation\r\n   */\r\n  const wmsValidation = async (): Promise<boolean> => {\r\n    const proj = api.projection.projections[api.map(mapId).currentProjection].getCode();\r\n    let supportedProj: string[] = [];\r\n    try {\r\n      const wms = await api.geoUtilities.getWMSServiceMetadata(layerURL, '');\r\n      supportedProj = wms.Capability.Layer.CRS as string[];\r\n      if (!supportedProj.includes(proj)) throw new Error('proj');\r\n      const layers = (wms.Capability.Layer.Layer as TypeJsonArray).map((aLayer) => [aLayer.Name, aLayer.Title]);\r\n      if (layers.length === 1) {\r\n        setLayerName(layers[0][1] as string);\r\n        setLayerEntries([\r\n          {\r\n            geoviewLayerId: layers[0][0] as string,\r\n            geoviewLayerType: 'ogcWms',\r\n            listOfLayerEntryConfig: [],\r\n          },\r\n        ]);\r\n      } else setLayerList(layers);\r\n    } catch (err) {\r\n      if (err === 'proj') emitErrorProj('WMS', proj, supportedProj);\r\n      else emitErrorServer('WMS');\r\n      return false;\r\n    }\r\n    return true;\r\n  };\r\n\r\n  /**\r\n   * Using the layerURL state object, check whether URL is a valid WFS,\r\n   * and add either Name and Entry directly to state if a single layer,\r\n   * or a list of Names / Entries if multiple layer options exist.\r\n   *\r\n   * @returns {Promise<boolean>} True if layer passes validation\r\n   */\r\n  const wfsValidation = async (): Promise<boolean> => {\r\n    try {\r\n      const wfs = await api.geoUtilities.getWFSServiceMetadata(layerURL);\r\n      const layers = (wfs.FeatureTypeList.FeatureType as TypeJsonArray).map((aFeatureType) => [\r\n        toJsonObject((aFeatureType.Name['#text'] as string).split(':')[1]),\r\n        aFeatureType.Title['#text'],\r\n      ]);\r\n      if (layers.length === 1) {\r\n        setLayerName(layers[0][1] as string);\r\n        setLayerEntries([\r\n          {\r\n            geoviewLayerId: layers[0][0] as string,\r\n            geoviewLayerType: 'ogcWms',\r\n            listOfLayerEntryConfig: [],\r\n          },\r\n        ]);\r\n      } else setLayerList(layers);\r\n    } catch (err) {\r\n      emitErrorServer('WFS');\r\n      return false;\r\n    }\r\n    return true;\r\n  };\r\n\r\n  /**\r\n   * Using the layerURL state object, check whether URL is a valid OGC API.\r\n   *\r\n   * @returns {Promise<boolean>} True if layer passes validation\r\n   */\r\n  const ogcFeatureValidation = async (): Promise<boolean> => {\r\n    const keys = ['collections', 'links'];\r\n    try {\r\n      const response = await fetch(`${layerURL}/collections?f=json`);\r\n      const json = await response.json();\r\n      const isValid = keys.every((key) => Object.keys(json).includes(key));\r\n      if (!isValid) throw new Error('err');\r\n      const layers = (json.collections as TypeJsonArray).map((aFeatureType) => [aFeatureType.id, aFeatureType.title]);\r\n      if (layers.length === 1) {\r\n        setLayerName(layers[0][1] as string);\r\n        setLayerEntries([\r\n          {\r\n            geoviewLayerId: layers[0][0] as string,\r\n            geoviewLayerType: 'ogcWms',\r\n            listOfLayerEntryConfig: [],\r\n          },\r\n        ]);\r\n      } else setLayerList(layers);\r\n    } catch (err) {\r\n      emitErrorServer('OGC API Feature');\r\n      return false;\r\n    }\r\n    return true;\r\n  };\r\n\r\n  /**\r\n   * Using the layerURL state object, check whether URL is a valid ESRI Server,\r\n   * and add either Name and Entry directly to state if a single layer,\r\n   * or a list of Names / Entries if multiple layer options exist.\r\n   *\r\n   * @returns {Promise<boolean>} True if layer passes validation\r\n   */\r\n  const esriValidation = async (type: string): Promise<boolean> => {\r\n    try {\r\n      const esri = await api.geoUtilities.getESRIServiceMetadata(layerURL);\r\n      if ((esri.capabilities as string).includes(esriOptions(type).capability)) {\r\n        if ('layers' in esri) {\r\n          const layers = (esri.layers as TypeJsonArray).map((aLayer) => [aLayer.id, aLayer.name]);\r\n\r\n          if (layers.length === 1) {\r\n            setLayerName(layers[0][1] as string);\r\n            setLayerEntries([\r\n              {\r\n                geoviewLayerId: layers[0][0] as string,\r\n                geoviewLayerType: 'ogcWms',\r\n                listOfLayerEntryConfig: [],\r\n              },\r\n            ]);\r\n          } else setLayerList(layers);\r\n        } else {\r\n          setLayerName(esri.name as string);\r\n          setLayerEntries([\r\n            {\r\n              geoviewLayerId: esri.id as string,\r\n              geoviewLayerType: 'ogcWms',\r\n              listOfLayerEntryConfig: [],\r\n            },\r\n          ]);\r\n        }\r\n      } else {\r\n        throw new Error('err');\r\n      }\r\n    } catch (err) {\r\n      emitErrorServer(esriOptions(type).err);\r\n      return false;\r\n    }\r\n    return true;\r\n  };\r\n\r\n  /**\r\n   * Using the layerURL state object, check whether URL is a valid XYZ Server.\r\n   *\r\n   * @returns {boolean} True if layer passes validation\r\n   */\r\n  const xyzValidation = (): boolean => {\r\n    const proj = api.projection.projections[api.map(mapId).currentProjection].getCode();\r\n    const tiles = ['{x}', '{y}', '{z}'];\r\n    for (let i = 0; i < tiles.length; i += 1) {\r\n      if (!layerURL.includes(tiles[i])) {\r\n        emitErrorServer('XYZ Tile');\r\n        return false;\r\n      }\r\n    }\r\n    if (proj !== 'EPSG:3857') {\r\n      emitErrorProj('XYZ Tiles', proj, ['EPSG:3857']);\r\n      return false;\r\n    }\r\n    return true;\r\n  };\r\n\r\n  /**\r\n   * Using the layerURL state object, check whether URL is a valid GeoJSON.\r\n   *\r\n   * @returns {Promise<boolean>} True if layer passes validation\r\n   */\r\n  const geoJSONValidation = async (): Promise<boolean> => {\r\n    try {\r\n      const response = await fetch(layerURL);\r\n      const json = await response.json();\r\n      if (!['FeatureCollection', 'Feature'].includes(json.type)) throw new Error('err');\r\n    } catch (err) {\r\n      emitErrorServer('GeoJSON');\r\n      return false;\r\n    }\r\n    return true;\r\n  };\r\n\r\n  /**\r\n   * Handle the behavior of the 'Continue' button in the Stepper UI\r\n   */\r\n  const handleStep1 = () => {\r\n    let valid = true;\r\n    if (layerURL.trim() === '') {\r\n      valid = false;\r\n      emitErrorEmpty('URL');\r\n    }\r\n    if (valid) setActiveStep(1);\r\n  };\r\n\r\n  /**\r\n   * Handle the behavior of the 'Continue' button in the Stepper UI\r\n   */\r\n  const handleStep2 = async () => {\r\n    let valid = true;\r\n    if (layerType === undefined) {\r\n      valid = false;\r\n      emitErrorEmpty('Service Type');\r\n    }\r\n    if (layerType === WMS) valid = await wmsValidation();\r\n    if (layerType === WFS) valid = await wfsValidation();\r\n    if (layerType === OGC_FEATURE) valid = await ogcFeatureValidation();\r\n    else if (layerType === XYZ_TILES) valid = xyzValidation();\r\n    else if (layerType === ESRI_DYNAMIC) valid = await esriValidation(ESRI_DYNAMIC);\r\n    else if (layerType === ESRI_FEATURE) valid = await esriValidation(ESRI_FEATURE);\r\n    else if (layerType === GEOJSON) valid = await geoJSONValidation();\r\n    if (valid) setActiveStep(2);\r\n  };\r\n\r\n  /**\r\n   * Handle the behavior of the 'Finish' button in the Stepper UI\r\n   */\r\n  const handleStep3 = () => {\r\n    let valid = true;\r\n    if (layerEntries.length === 0) {\r\n      valid = false;\r\n      emitErrorEmpty('Layer');\r\n    }\r\n    if (valid) setActiveStep(3);\r\n  };\r\n\r\n  /**\r\n   * Handle the behavior of the 'Finish' button in the Stepper UI\r\n   */\r\n  const handleStepLast = () => {\r\n    let valid = true;\r\n    const name = layerName;\r\n    let url = layerURL;\r\n    let entries = layerEntries;\r\n    // if (Array.isArray(entries)) entries = entries.join(',');\r\n    if (layerType === ESRI_DYNAMIC) url = api.geoUtilities.getMapServerUrl(layerURL);\r\n    else if (layerType === ESRI_FEATURE) {\r\n      url = `${api.geoUtilities.getMapServerUrl(layerURL)}/${(layerEntries as TypeEsriDynamicLayerEntryConfig[])[0].layerId}`;\r\n      entries = [];\r\n    }\r\n\r\n    if (layerName === '') {\r\n      valid = false;\r\n      emitErrorEmpty(isMultiple() ? 'Name' : 'Layer');\r\n    }\r\n    const layerConfig: TypeGeoviewLayerConfig = {\r\n      geoviewLayerId: api.generateId(),\r\n      geoviewLayerName: {\r\n        en: name,\r\n        fr: name,\r\n      },\r\n      geoviewLayerType: layerType as TypeGeoviewLayerType,\r\n      metadataAccessPath: {\r\n        en: url,\r\n        fr: url,\r\n      },\r\n      listOfLayerEntryConfig: entries as TypeListOfLayerEntryConfig,\r\n    };\r\n    if (valid) {\r\n      api.map(mapId).layer.addGeoviewLayer(layerConfig);\r\n      setAddLayerVisible(false);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Handle the behavior of the 'Back' button in the Stepper UI\r\n   */\r\n  const handleBack = () => {\r\n    setActiveStep((prevActiveStep: number) => prevActiveStep - 1);\r\n  };\r\n\r\n  /**\r\n   * Set layer URL from form input\r\n   *\r\n   * @param e TextField event\r\n   */\r\n  const handleInput = (event: Event) => {\r\n    setLayerURL(event.target.value);\r\n    setLayerType('');\r\n    setLayerList([]);\r\n    setLayerName('');\r\n    setLayerEntries([]);\r\n  };\r\n\r\n  /**\r\n   * Set layerType from form input\r\n   *\r\n   * @param {SelectChangeEvent} event TextField event\r\n   */\r\n  const handleSelectType = (event: SelectChangeEvent<unknown>) => {\r\n    setLayerType(event.target.value as TypeGeoviewLayerType);\r\n    setLayerList([]);\r\n    setLayerName('');\r\n    setLayerEntries([]);\r\n  };\r\n\r\n  /**\r\n   * Set the currently selected layer from a list\r\n   *\r\n   * @param event Select event\r\n   * @param newValue value/label pairs of select options\r\n   */\r\n  const handleSelectLayer = (event: Event, newValue: string[]) => {\r\n    if (isMultiple()) {\r\n      setLayerEntries(\r\n        newValue.map((x: string) => {\r\n          if (layerType === ESRI_DYNAMIC) {\r\n            return { layerId: x[0] } as TypeEsriDynamicLayerEntryConfig;\r\n          }\r\n\r\n          return { layerId: x[0] as string } as TypeWmsLayerEntryConfig;\r\n        })\r\n      );\r\n      setLayerName(newValue.map((x) => x[1]).join(', '));\r\n    } else {\r\n      if (layerType === ESRI_DYNAMIC) {\r\n        setLayerEntries([{ layerId: newValue[0] } as TypeEsriDynamicLayerEntryConfig]);\r\n      } else {\r\n        setLayerEntries([{ layerId: newValue[0] } as TypeWmsLayerEntryConfig]);\r\n      }\r\n      setLayerName(newValue[1]);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Set the layer name from form input\r\n   *\r\n   * @param e TextField event\r\n   */\r\n  const handleNameLayer = (event: Event) => {\r\n    setLayerName(event.target.value);\r\n  };\r\n\r\n  /**\r\n   * Creates a set of Continue / Back buttons\r\n   *\r\n   * @param param0 specify if button is first or last in the list\r\n   * @returns {JSX.Element} React component\r\n   */\r\n  // eslint-disable-next-line react/no-unstable-nested-components\r\n  function NavButtons({ isFirst = false, isLast = false, handleNext }: ButtonPropsLayerPanel): JSX.Element {\r\n    return (\r\n      <ButtonGroup className={classes.buttonGroup}>\r\n        <Button variant=\"contained\" type=\"text\" onClick={handleNext}>\r\n          {isLast ? 'Finish' : 'Continue'}\r\n        </Button>\r\n        {!isFirst && (\r\n          <Button variant=\"contained\" type=\"text\" onClick={handleBack}>\r\n            Back\r\n          </Button>\r\n        )}\r\n      </ButtonGroup>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Stepper\r\n      activeStep={activeStep}\r\n      orientation=\"vertical\"\r\n      steps={[\r\n        {\r\n          stepLabel: {\r\n            children: 'Enter URL',\r\n          },\r\n          stepContent: {\r\n            children: (\r\n              <>\r\n                <TextField sx={{ width: '100%' }} label=\"URL\" variant=\"standard\" value={layerURL} onChange={handleInput} />\r\n                <br />\r\n                <NavButtons isFirst handleNext={handleStep1} />\r\n              </>\r\n            ),\r\n          },\r\n        },\r\n        {\r\n          stepLabel: {\r\n            children: 'Select format',\r\n          },\r\n          stepContent: {\r\n            children: (\r\n              <>\r\n                <Select\r\n                  fullWidth\r\n                  labelId=\"service-type-label\"\r\n                  value={layerType}\r\n                  onChange={handleSelectType}\r\n                  label=\"Service Type\"\r\n                  inputLabel={{\r\n                    id: 'service-type-label',\r\n                  }}\r\n                  menuItems={layerOptions.map(([value, label]) => ({\r\n                    key: value,\r\n                    item: {\r\n                      value,\r\n                      children: label,\r\n                    },\r\n                  }))}\r\n                />\r\n                <NavButtons handleNext={handleStep2} />\r\n              </>\r\n            ),\r\n          },\r\n        },\r\n        {\r\n          stepLabel: {\r\n            children: 'Configure layer',\r\n          },\r\n          stepContent: {\r\n            children: (\r\n              <>\r\n                {layerList.length === 0 && layerEntries.length === 0 && (\r\n                  <TextField label=\"Name\" variant=\"standard\" value={layerName} onChange={handleNameLayer} />\r\n                )}\r\n                {layerList.length === 0 && layerEntries.length > 0 && <Typography>{layerName}</Typography>}\r\n                {layerList.length > 1 && (\r\n                  <Autocomplete\r\n                    fullWidth\r\n                    multiple={isMultiple()}\r\n                    disableCloseOnSelect\r\n                    disableClearable={!isMultiple()}\r\n                    id=\"service-layer-label\"\r\n                    options={layerList}\r\n                    getOptionLabel={(option) => `${option[1]} (${option[0]})`}\r\n                    renderOption={(props, option) => <span {...props}>{option[1]}</span>}\r\n                    // value={\r\n                    //   layerType === ESRI_DYNAMIC\r\n                    //     ? layerEntries.map((entry) => {\r\n                    //         return (entry as TypeDynamicLayerEntry).index.toString();\r\n                    //       })\r\n                    //     : layerEntries.map((entry) => {\r\n                    //         return (entry as TypeOgcLayerEntry).id;\r\n                    //       })\r\n                    // }\r\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                    onChange={handleSelectLayer as any}\r\n                    renderInput={(params) => <TextField {...params} label=\"Select Layer\" />}\r\n                  />\r\n                )}\r\n                <br />\r\n                <NavButtons isLast={!isMultiple()} handleNext={isMultiple() ? handleStep3 : handleStepLast} />\r\n              </>\r\n            ),\r\n          },\r\n        },\r\n        isMultiple()\r\n          ? {\r\n              stepLabel: {\r\n                children: 'Enter Name',\r\n              },\r\n              stepContent: {\r\n                children: (\r\n                  <>\r\n                    <TextField sx={{ width: '100%' }} label=\"Name\" variant=\"standard\" value={layerName} onChange={handleNameLayer} />\r\n                    <br />\r\n                    <NavButtons isLast handleNext={handleStepLast} />\r\n                  </>\r\n                ),\r\n              },\r\n            }\r\n          : null,\r\n      ]}\r\n    />\r\n  );\r\n}\r\n\r\nexport default LayerStepper;\r\n","/* eslint-disable react/no-array-index-key */\r\nimport {\r\n  TypeJsonValue,\r\n  TypeJsonArray,\r\n  toJsonObject,\r\n  TypeJsonObject,\r\n  AbstractGeoViewLayer,\r\n  TypeWindow,\r\n  geoviewLayerIsWMS,\r\n  geoviewLayerIsEsriDynamic,\r\n  geoviewLayerIsEsriFeature,\r\n  getLocalizedValue,\r\n} from 'geoview-core';\r\n\r\n/**\r\n * interface for the layers list properties in layers panel\r\n */\r\ntype TypeLayersPanelListProps = {\r\n  mapId: string;\r\n  layers: Record<string, AbstractGeoViewLayer>;\r\n  displayLanguage: string;\r\n};\r\n\r\ntype TypeLegend =\r\n  | TypeJsonValue[]\r\n  | {\r\n      name: string;\r\n      dataUrl: string[] | string | ArrayBuffer | null;\r\n    }[];\r\n\r\ntype TypeSubLayerVisibility = { [subLayerId: string]: number[] };\r\n\r\nconst w = window as TypeWindow;\r\n\r\n/**\r\n * A react component that will list the map server layers defined in the map config\r\n * @param {TypeLayersPanelListProps} props properties passed to the component\r\n * @returns {JSX.Element} a React JSX Element containing map server layers\r\n */\r\nfunction LayersList(props: TypeLayersPanelListProps): JSX.Element {\r\n  const { mapId, layers, displayLanguage } = props;\r\n\r\n  const { cgpv } = w;\r\n  const { ui, react, api } = cgpv;\r\n  const { useState, useEffect } = react;\r\n\r\n  const [selectedLayer, setSelectedLayer] = useState<string>('');\r\n  const [layerLegend, setLayerLegend] = useState<{ [legendId: string]: TypeLegend }>({});\r\n  const [layerBounds, setLayerBounds] = useState<Record<string, number[]>>({});\r\n  const [layerBbox, setLayerBbox] = useState<number[][]>([]);\r\n  const [layerOpacity, setLayerOpacity] = useState<Record<string, number>>({});\r\n  const [layerVisibility, setLayerVisibility] = useState<Record<string, boolean>>({});\r\n  const [subLayerVisibility, setSubLayerVisibility] = useState<TypeSubLayerVisibility>({});\r\n\r\n  const { Button, Slider, Tooltip, Checkbox } = ui.elements;\r\n\r\n  const translations: TypeJsonObject = toJsonObject({\r\n    en: {\r\n      bounds: 'Toggle Bounds',\r\n      zoom: 'Zoom to Layer',\r\n      remove: 'Remove Layer',\r\n      opacity: 'Adjust Opacity',\r\n      visibility: 'Toggle Visibility',\r\n    },\r\n    fr: {\r\n      bounds: 'Basculer la limite',\r\n      zoom: 'Zoom sur la Couche',\r\n      remove: 'Supprimer la Couche',\r\n      opacity: \"Ajuster l'opacité\",\r\n      visibility: 'Basculer la Visibilité',\r\n    },\r\n  });\r\n\r\n  const useStyles = ui.makeStyles(() => ({\r\n    layersContainer: {\r\n      overflow: 'hidden',\r\n      overflowY: 'auto',\r\n      width: '100%',\r\n    },\r\n    layerItem: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'space-between',\r\n      margin: '5px 0',\r\n      padding: '10px 5px',\r\n      boxSizing: 'content-box',\r\n      '&:hover': {\r\n        cursor: 'pointer',\r\n        backgroundColor: '#c9c9c9',\r\n      },\r\n      zIndex: 1000,\r\n      border: 'none',\r\n      width: '100%',\r\n    },\r\n    layerParentText: {\r\n      fontSize: '16px',\r\n      fontWeight: 'bold',\r\n    },\r\n    layerCountTextContainer: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      width: '100%',\r\n      height: '32px',\r\n    },\r\n    layerItemText: {\r\n      fontSize: '14px',\r\n      whiteSpace: 'nowrap',\r\n      textOverflow: 'ellipsis',\r\n      overflow: 'hidden',\r\n      marginLeft: '10px',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      gap: 6,\r\n    },\r\n    flexGroup: {\r\n      display: 'flex',\r\n      justifyContent: 'flex-end',\r\n      alignItems: 'baseline',\r\n      gap: 12,\r\n    },\r\n    flexGroupButton: {\r\n      height: 38,\r\n      minHeight: 38,\r\n      width: 25,\r\n      minWidth: 25,\r\n      '& > div': {\r\n        textAlign: 'center',\r\n      },\r\n    },\r\n    slider: {\r\n      width: '100%',\r\n      paddingLeft: 20,\r\n      paddingRight: 20,\r\n    },\r\n    legendSubLayerGroup: {\r\n      display: 'flex',\r\n      justifyContent: 'space-between',\r\n    },\r\n  }));\r\n\r\n  /**\r\n   * Calls setLayerLegend for all layers\r\n   */\r\n  const setLayerLegendAll = () =>\r\n    Object.values(layers).forEach(async (layer) => {\r\n      if (geoviewLayerIsWMS(layer)) {\r\n        const dataUrl = await layer.getLegendGraphic();\r\n        const name = getLocalizedValue(layer.metadataAccessPath, layer.mapId)!.includes('/MapServer') ? layer.geoviewLayerName : '';\r\n        const legend = [{ name, dataUrl }];\r\n        setLayerLegend((state) => ({ ...state, [layer.geoviewLayerId]: legend }));\r\n      } else if (geoviewLayerIsEsriDynamic(layer) || geoviewLayerIsEsriFeature(layer)) {\r\n        const legend = await layer.getLegendJson();\r\n        const legendArray = Array.isArray(legend) ? legend : [legend];\r\n        setLayerLegend((state) => ({ ...state, [layer.geoviewLayerId]: legendArray }));\r\n      }\r\n    });\r\n\r\n  /**\r\n   * Calls setLayerExtent for all layers\r\n   */\r\n  const setLayerBoundsAll = async () => {\r\n    for (let layerIndex = 0; layerIndex < Object.keys(layers).length; layerIndex++) {\r\n      const layerKey = Object.keys(layers)[layerIndex];\r\n      const layerValue = layers[layerKey];\r\n\r\n      // eslint-disable-next-line no-await-in-loop\r\n      const bounds = await layerValue.getBounds();\r\n      setLayerBounds((state) => ({ ...state, [layerValue.geoviewLayerId]: bounds }));\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const defaultLegends = Object.values(layers).reduce((prev, curr) => ({ ...prev, [curr.geoviewLayerId]: [] }), {});\r\n    setLayerLegend((state) => ({ ...defaultLegends, ...state }));\r\n    setLayerLegendAll();\r\n\r\n    const defaultBounds = Object.values(layers).reduce((prev, curr) => ({ ...prev, [curr.geoviewLayerId]: [] }), {});\r\n    setLayerBounds((state) => ({ ...defaultBounds, ...state }));\r\n    setLayerBoundsAll();\r\n\r\n    const defaultSliders = Object.values(layers).reduce((prev, curr) => ({ ...prev, [curr.geoviewLayerId]: 100 }), {});\r\n    setLayerOpacity((state) => ({ ...defaultSliders, ...state }));\r\n\r\n    const defaultVisibility = Object.values(layers).reduce((prev, curr) => ({ ...prev, [curr.geoviewLayerId]: true }), {});\r\n    setLayerVisibility((state) => ({ ...defaultVisibility, ...state }));\r\n\r\n    const defaultSubVisibility = Object.values(layers).reduce((prev, curr) => ({ ...prev, [curr.geoviewLayerId]: curr.entries }), {});\r\n    setSubLayerVisibility((state) => ({ ...defaultSubVisibility, ...state }));\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [layers]);\r\n\r\n  const classes = useStyles();\r\n\r\n  /**\r\n   * Sets the currently selected layer,\r\n   * sets to blank if value is same as currently selecetd layer\r\n   *\r\n   * @param value layer button value\r\n   */\r\n  const onClick = (value: string) => {\r\n    const selected = value !== selectedLayer ? value : '';\r\n    setSelectedLayer(selected);\r\n  };\r\n\r\n  /**\r\n   * Removes selcted layer from map\r\n   *\r\n   * @param layer layer config\r\n   */\r\n  const onZoom = (layer: AbstractGeoViewLayer) => api.map(mapId).fitBounds(layerBounds[layer.geoviewLayerId]);\r\n\r\n  /**\r\n   * Returns polygon with segmented top and bottom to handle curved projection\r\n   *\r\n   * @param {number[]} bounds layer bounds\r\n   * @param {number} segments layer bounds\r\n   * @returns {number[][]} the bounding box coordinates\r\n   */\r\n  const polygonFromBounds = (bounds: number[], segments = 100): number[][] => {\r\n    // store longitude and latitude of each point of polygon\r\n    const lnglats: number[][] = [];\r\n\r\n    if (bounds && bounds.length > 0) {\r\n      const west = bounds[0];\r\n      const south = bounds[1];\r\n      const east = bounds[2];\r\n      const north = bounds[3];\r\n\r\n      const southEast = [east, south];\r\n      const southWest = [west, south];\r\n      const northEast = [east, north];\r\n      const northWest = [west, north];\r\n\r\n      const width = east - west;\r\n\r\n      lnglats.push(southWest);\r\n      for (let i = 1; i <= segments; i += 1) {\r\n        const segmentWidth = width * (i / (segments + 1));\r\n        const lat = west + segmentWidth;\r\n        lnglats.push([lat, south]);\r\n      }\r\n      lnglats.push(southEast);\r\n      lnglats.push(northEast);\r\n      for (let i = 1; i <= segments; i += 1) {\r\n        const segmentWidth = width * (i / (segments + 1));\r\n        const lat = east - segmentWidth;\r\n        lnglats.push([lat, north]);\r\n      }\r\n      lnglats.push(northWest);\r\n    }\r\n\r\n    return lnglats;\r\n  };\r\n\r\n  /**\r\n   * Adds bounding box to map\r\n   *\r\n   * @param layer layer config\r\n   */\r\n  const onBounds = (layer: AbstractGeoViewLayer) => {\r\n    const bbox = polygonFromBounds(layerBounds[layer.geoviewLayerId]);\r\n\r\n    if (layerBbox.toString() === bbox.toString()) {\r\n      api.map(mapId).layer.vector?.deleteGeometry('layerBoundingBox');\r\n      setLayerBbox([]);\r\n    } else {\r\n      api.map(mapId).layer.vector?.deleteGeometry('layerBoundingBox');\r\n      api.map(mapId).layer.vector?.addPolygon(\r\n        [bbox],\r\n        {\r\n          style: {\r\n            strokeColor: 'red',\r\n            fillColor: 'red',\r\n            fillOpacity: 0.2,\r\n          },\r\n        },\r\n        'layerBoundingBox'\r\n      );\r\n      setLayerBbox(bbox);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Removes selcted layer from map, also removing bbox if active\r\n   *\r\n   * @param layer layer config\r\n   */\r\n  const onRemove = (layer: AbstractGeoViewLayer) => {\r\n    // empty bounding box\r\n    setLayerBbox([]);\r\n    // remove bounding box layer from map\r\n    api.map(mapId).layer.vector?.deleteGeometry('layerBoundingBox');\r\n    // remove layer from map\r\n    api.map(mapId).layer.removeGeoviewLayer(layer);\r\n  };\r\n\r\n  /**\r\n   * Adjusts layer opacity when slider is moved\r\n   *\r\n   * @param value slider opacity value (0-100)\r\n   * @param data Layer data\r\n   */\r\n  const onSliderChange = (value: number, data: AbstractGeoViewLayer) => {\r\n    setLayerOpacity((state) => ({ ...state, [data.geoviewLayerId]: value }));\r\n    const opacity = layerVisibility[data.geoviewLayerId] ? value / 100 : 0;\r\n    data.setOpacity(opacity);\r\n  };\r\n\r\n  /**\r\n   * Adjusts layer visibility when checkbox is toggled\r\n   *\r\n   * @param value checkbox boolean\r\n   * @param data Layer data\r\n   */\r\n  const onVisibilityChange = (value: boolean, data: AbstractGeoViewLayer) => {\r\n    setLayerVisibility((state) => ({ ...state, [data.geoviewLayerId]: value }));\r\n    const opacity = value ? layerOpacity[data.geoviewLayerId] / 100 : 0;\r\n    data.setOpacity(opacity);\r\n    if (value && data.setEntries) {\r\n      setSubLayerVisibility((state) => ({ ...state, [data.geoviewLayerId]: data.entries as number[] }));\r\n      data.setEntries(data.entries as number[]);\r\n    }\r\n    if (!value && data.setEntries) {\r\n      setSubLayerVisibility((state) => ({ ...state, [data.geoviewLayerId]: [] }));\r\n      data.setEntries([]);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Adjusts sublayer visibility when checkbox is toggled\r\n   *\r\n   * @param value checkbox boolean\r\n   * @param data Layer data\r\n   * @param id sublayer ID\r\n   */\r\n  const onSubVisibilityChange = (value: boolean, data: AbstractGeoViewLayer, id: number) => {\r\n    const oldEntries = subLayerVisibility[data.geoviewLayerId];\r\n    const entries = value ? [...new Set([...oldEntries, id])] : oldEntries.filter((x) => x !== id);\r\n    if (oldEntries.length === 0) {\r\n      setLayerVisibility((state) => ({ ...state, [data.geoviewLayerId]: true }));\r\n      data.setOpacity(layerOpacity[data.geoviewLayerId] / 100);\r\n    }\r\n    if (entries.length === 0) {\r\n      setLayerVisibility((state) => ({ ...state, [data.geoviewLayerId]: false }));\r\n      data.setOpacity(0);\r\n    }\r\n    setSubLayerVisibility((state) => ({ ...state, [data.geoviewLayerId]: entries }));\r\n    if (data.setEntries) data.setEntries(entries);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.layersContainer}>\r\n      {Object.values(layers).map((layer) => (\r\n        <div key={layer.geoviewLayerId}>\r\n          <button type=\"button\" className={classes.layerItem} onClick={() => onClick(layer.geoviewLayerId)}>\r\n            <div className={classes.layerCountTextContainer}>\r\n              <div className={classes.layerItemText} title={layer.geoviewLayerName}>\r\n                {layer.geoviewLayerName}\r\n              </div>\r\n            </div>\r\n          </button>\r\n          {selectedLayer === layer.geoviewLayerId && (\r\n            <>\r\n              <div className={classes.flexGroup}>\r\n                <Button\r\n                  className={classes.flexGroupButton}\r\n                  tooltip={translations[displayLanguage].zoom as string}\r\n                  tooltipPlacement=\"top\"\r\n                  variant=\"contained\"\r\n                  type=\"icon\"\r\n                  icon='<i class=\"material-icons\">zoom_in</i>'\r\n                  onClick={() => onZoom(layer)}\r\n                />\r\n                <Button\r\n                  className={classes.flexGroupButton}\r\n                  tooltip={translations[displayLanguage].bounds as string}\r\n                  tooltipPlacement=\"top\"\r\n                  variant=\"contained\"\r\n                  type=\"icon\"\r\n                  icon='<i class=\"material-icons\">crop_free</i>'\r\n                  onClick={() => onBounds(layer)}\r\n                />\r\n                <Button\r\n                  className={classes.flexGroupButton}\r\n                  tooltip={translations[displayLanguage].remove as string}\r\n                  tooltipPlacement=\"top\"\r\n                  variant=\"contained\"\r\n                  type=\"icon\"\r\n                  icon='<i class=\"material-icons\">remove</i>'\r\n                  onClick={() => onRemove(layer)}\r\n                />\r\n              </div>\r\n              <div className={classes.flexGroup}>\r\n                <Tooltip title={translations[displayLanguage].opacity}>\r\n                  <i className=\"material-icons\">contrast</i>\r\n                </Tooltip>\r\n                <div className={classes.slider}>\r\n                  <Slider\r\n                    id={api.generateId()}\r\n                    min={0}\r\n                    max={100}\r\n                    size=\"small\"\r\n                    value={layerOpacity[layer.geoviewLayerId]}\r\n                    valueLabelDisplay=\"auto\"\r\n                    customOnChange={(value) => onSliderChange(value as number, layer)}\r\n                  />\r\n                </div>\r\n                <Tooltip title={translations[displayLanguage].visibility}>\r\n                  <Checkbox checked={layerVisibility[layer.geoviewLayerId]} onChange={(e) => onVisibilityChange(e.target.checked, layer)} />\r\n                </Tooltip>\r\n              </div>\r\n              {(layerLegend[layer.geoviewLayerId] as TypeJsonArray).map((subLayer, index: number) => (\r\n                <div key={index}>\r\n                  {subLayer!.legend && (\r\n                    <div className={classes.legendSubLayerGroup}>\r\n                      <div className={classes.layerItemText} title={subLayer.layerName as string}>\r\n                        {subLayer.layerName}\r\n                      </div>\r\n                      <Tooltip title={translations[displayLanguage].visibility}>\r\n                        <Checkbox\r\n                          checked={subLayerVisibility[layer.geoviewLayerId].includes(subLayer.layerId as number)}\r\n                          onChange={(e) => onSubVisibilityChange(e.target.checked, layer, subLayer.layerId as number)}\r\n                        />\r\n                      </Tooltip>\r\n                    </div>\r\n                  )}\r\n                  {(subLayer.drawingInfo?.renderer.type as string) === 'simple' && subLayer.drawingInfo?.renderer.symbol.imageData && (\r\n                    <div className={classes.layerItemText}>\r\n                      <img\r\n                        alt=\"Layer Legend\"\r\n                        src={`data:${subLayer.drawingInfo?.renderer.symbol.contentType};base64,${subLayer.drawingInfo?.renderer.symbol.imageData}`}\r\n                      />\r\n                      {subLayer.drawingInfo?.renderer.label || subLayer.name}\r\n                    </div>\r\n                  )}\r\n                  {subLayer.drawingInfo?.renderer.type === 'uniqueValue' &&\r\n                    subLayer.drawingInfo.renderer.uniqueValueInfos[0].symbol.imageData &&\r\n                    (subLayer.drawingInfo.renderer.uniqueValueInfos as TypeJsonArray).map((uniqueValue, i: number) => (\r\n                      <div key={i} className={classes.layerItemText}>\r\n                        <img alt=\"Layer Legend\" src={`data:${uniqueValue.symbol.contentType};base64,${uniqueValue.symbol.imageData}`} />\r\n                        {uniqueValue.label}\r\n                      </div>\r\n                    ))}\r\n                  {subLayer.legend &&\r\n                    (subLayer.legend as TypeJsonArray).map((uniqueValue, i: number) => (\r\n                      <div key={i} className={classes.layerItemText}>\r\n                        <img alt=\"Layer Legend\" src={`data:${uniqueValue.contentType};base64,${uniqueValue.imageData}`} />\r\n                        {uniqueValue.label || subLayer.layerName}\r\n                      </div>\r\n                    ))}\r\n                  {subLayer.dataUrl && (\r\n                    <div className={classes.layerItemText}>\r\n                      <img alt=\"Layer Legend\" src={subLayer.dataUrl as string} />\r\n                      {subLayer.name}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              ))}\r\n            </>\r\n          )}\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LayersList;\r\n","import { toJsonObject, TypeJsonObject, TypeWindow, TypeButtonPanel } from 'geoview-core';\r\n\r\nimport LayerStepper from './layer-stepper';\r\nimport LayersList from './layers-list';\r\n\r\ntype TypePanelContentProps = {\r\n  buttonPanel: TypeButtonPanel;\r\n  mapId: string;\r\n};\r\n\r\nconst w = window as TypeWindow;\r\n\r\n/**\r\n * A react component that displays the details panel content\r\n *\r\n * @param {TypePanelContentProps} props the properties of the pane content\r\n * @returns {JSX.Element} A React JSX Element with the details panel\r\n */\r\nfunction PanelContent(props: TypePanelContentProps): JSX.Element {\r\n  const { mapId, buttonPanel } = props;\r\n\r\n  const { cgpv } = w;\r\n  const { api, react, ui } = cgpv;\r\n  const { useState, useEffect } = react;\r\n  const [addLayerVisible, setAddLayerVisible] = useState(false);\r\n  const [mapLayers, setMapLayers] = useState({});\r\n  const { Button } = ui.elements;\r\n\r\n  const { displayLanguage } = api.map(mapId!);\r\n\r\n  const translations: TypeJsonObject = toJsonObject({\r\n    en: {\r\n      addLayer: 'Add Layer',\r\n    },\r\n    fr: {\r\n      addLayer: 'Ajouter Couche',\r\n    },\r\n  });\r\n\r\n  const useStyles = ui.makeStyles(() => ({\r\n    mainContainer: {\r\n      display: 'flex',\r\n      flexDirection: 'row',\r\n    },\r\n    addLayerButton: {\r\n      width: 50,\r\n      minWidth: 50,\r\n      '& > div': {\r\n        textAlign: 'center',\r\n      },\r\n    },\r\n  }));\r\n  const classes = useStyles();\r\n\r\n  const onClick = () => setAddLayerVisible((state: boolean) => !state);\r\n\r\n  useEffect(() => {\r\n    setMapLayers(() => ({ ...api.map(mapId!).layer.geoviewLayers }));\r\n\r\n    api.event.on(\r\n      api.eventNames.LAYER.EVENT_LAYER_ADDED,\r\n      () =>\r\n        setMapLayers(() => ({\r\n          ...api.map(mapId!).layer.geoviewLayers,\r\n        })),\r\n      mapId\r\n    );\r\n    api.event.on(\r\n      api.eventNames.LAYER.EVENT_REMOVE_LAYER,\r\n      () =>\r\n        setMapLayers(() => ({\r\n          ...api.map(mapId!).layer.geoviewLayers,\r\n        })),\r\n      mapId\r\n    );\r\n    api.event.on(\r\n      api.eventNames.PANEL.EVENT_PANEL_CLOSE,\r\n      () => {\r\n        setAddLayerVisible(false);\r\n      },\r\n      mapId,\r\n      buttonPanel.buttonPanelId\r\n    );\r\n\r\n    return () => {\r\n      api.event.off(api.eventNames.LAYER.EVENT_LAYER_ADDED, mapId);\r\n      api.event.off(api.eventNames.LAYER.EVENT_REMOVE_LAYER, mapId);\r\n      api.event.off(api.eventNames.PANEL.EVENT_PANEL_CLOSE, mapId, buttonPanel.buttonPanelId);\r\n    };\r\n  }, [api, buttonPanel.buttonPanelId, mapId]);\r\n\r\n  return (\r\n    <>\r\n      <div className={classes.mainContainer}>\r\n        <Button\r\n          className={classes.addLayerButton}\r\n          tooltip={translations[displayLanguage].addLayer as string}\r\n          tooltipPlacement=\"right\"\r\n          variant=\"contained\"\r\n          type=\"icon\"\r\n          icon='<i class=\"material-icons\">add</i>'\r\n          onClick={onClick}\r\n        />\r\n      </div>\r\n      {addLayerVisible && <LayerStepper mapId={mapId!} setAddLayerVisible={setAddLayerVisible} />}\r\n      <div style={{ display: addLayerVisible ? 'none' : 'inherit' }}>\r\n        <LayersList mapId={mapId!} layers={mapLayers} displayLanguage={displayLanguage} />\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default PanelContent;\r\n","/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\r\nimport {\r\n  Cast,\r\n  AbstractPlugin,\r\n  toJsonObject,\r\n  TypeJsonObject,\r\n  TypeWindow,\r\n  TypePluginOptions,\r\n  TypeButtonPanel,\r\n  TypeIconButtonProps,\r\n  TypePanelProps,\r\n  AnySchemaObject,\r\n} from 'geoview-core';\r\nimport PanelContent from './panel-content';\r\nimport schema from '../schema.json';\r\nimport defaultConfig from '../default-config-layers-panel.json';\r\n\r\nconst w = window as TypeWindow;\r\n\r\n/**\r\n * Create a class for the plugin instance\r\n */\r\nclass LayersPanelPlugin extends AbstractPlugin {\r\n  // store the created button panel object\r\n  buttonPanel: TypeButtonPanel | null;\r\n\r\n  constructor(pluginId: string, props: TypePluginOptions) {\r\n    super(pluginId, props);\r\n    this.buttonPanel = null;\r\n  }\r\n\r\n  /**\r\n   * Return the schema that is defined for this package\r\n   *\r\n   * @returns {AnySchemaObject} returns the schema for this package\r\n   */\r\n  schema = (): AnySchemaObject => schema;\r\n\r\n  /**\r\n   * Return the default config for this package\r\n   *\r\n   * @returns {TypeJsonObject} the default config\r\n   */\r\n  defaultConfig = (): TypeJsonObject => toJsonObject(defaultConfig);\r\n\r\n  /**\r\n   * translations object to inject to the viewer translations\r\n   */\r\n  translations: TypeJsonObject = toJsonObject({\r\n    en: {\r\n      layersPanel: 'Layers',\r\n    },\r\n    fr: {\r\n      layersPanel: 'Couches',\r\n    },\r\n  });\r\n\r\n  /**\r\n   * Added function called after the plugin has been initialized\r\n   */\r\n  added = (): void => {\r\n    const { mapId } = this.pluginProps;\r\n\r\n    // access the cgpv object from the window object\r\n    const { cgpv } = w;\r\n\r\n    // access the api calls\r\n    const { api, ui } = cgpv;\r\n    const { LayersOutlinedIcon } = ui.elements;\r\n    const { displayLanguage } = api.map(mapId);\r\n\r\n    let panelStatus = false;\r\n\r\n    panelStatus = this.configObj?.isOpen?.large as boolean;\r\n\r\n    // button props\r\n    const button: TypeIconButtonProps = {\r\n      id: 'layersPanelButton',\r\n      tooltip: this.translations[displayLanguage].layersPanel as string,\r\n      tooltipPlacement: 'right',\r\n      children: <LayersOutlinedIcon />,\r\n      visible: true,\r\n    };\r\n\r\n    // panel props\r\n    const panel: TypePanelProps = {\r\n      title: this.translations[displayLanguage].layersPanel,\r\n      icon: '<i class=\"material-icons\">layers</i>',\r\n      width: 200,\r\n      status: panelStatus,\r\n    };\r\n\r\n    // create a new button panel on the app-bar\r\n    this.buttonPanel = api.map(mapId).appBarButtons.createAppbarPanel(button, panel, null);\r\n\r\n    // set panel content\r\n    this.buttonPanel?.panel?.changeContent(<PanelContent buttonPanel={this.buttonPanel} mapId={mapId} />);\r\n  };\r\n\r\n  /**\r\n   * Function called when the plugin is removed, used for clean up\r\n   */\r\n  removed(): void {\r\n    const { mapId } = this.pluginProps;\r\n\r\n    // access the cgpv object from the window object\r\n    const { cgpv } = w;\r\n\r\n    // access the api calls\r\n    const { api } = cgpv;\r\n\r\n    if (this.buttonPanel) {\r\n      api.map(mapId).appBarButtons.removeAppbarPanel(this.buttonPanel.buttonPanelId);\r\n    }\r\n  }\r\n}\r\n\r\nexport default LayersPanelPlugin;\r\n\r\nw.plugins = w.plugins || {};\r\nw.plugins['layers-panel'] = Cast<AbstractPlugin>(LayersPanelPlugin);\r\n"],"names":["w","window","mapId","setAddLayerVisible","cgpv","api","react","ui","layerTypes","ESRI_DYNAMIC","ESRI_FEATURE","GEOJSON","WMS","WFS","OGC_FEATURE","XYZ_TILES","useState","elements","Select","Stepper","TextField","Button","ButtonGroup","Typography","Autocomplete","activeStep","setActiveStep","layerURL","setLayerURL","layerType","setLayerType","layerList","setLayerList","layerName","setLayerName","layerEntries","setLayerEntries","classes","makeStyles","buttonGroup","paddingTop","gap","useStyles","isMultiple","layerOptions","esriOptions","type","err","capability","emitErrorEmpty","textField","event","emit","snackbarMessagePayload","eventNames","SNACKBAR","EVENT_SNACKBAR_OPEN","value","emitErrorServer","serviceName","emitErrorProj","proj","supportedProj","join","wmsValidation","projection","projections","map","currentProjection","getCode","geoUtilities","getWMSServiceMetadata","wms","Capability","Layer","CRS","includes","Error","layers","aLayer","Name","Title","length","geoviewLayerId","geoviewLayerType","listOfLayerEntryConfig","wfsValidation","getWFSServiceMetadata","wfs","FeatureTypeList","FeatureType","aFeatureType","toJsonObject","split","ogcFeatureValidation","keys","fetch","response","json","every","key","Object","collections","id","title","esriValidation","getESRIServiceMetadata","esri","capabilities","name","xyzValidation","tiles","i","geoJSONValidation","handleStep2","valid","undefined","handleStepLast","url","entries","getMapServerUrl","layerId","layerConfig","generateId","geoviewLayerName","en","fr","metadataAccessPath","layer","addGeoviewLayer","handleBack","prevActiveStep","handleNameLayer","target","NavButtons","isFirst","isLast","handleNext","className","variant","onClick","orientation","steps","stepLabel","children","stepContent","sx","width","label","onChange","trim","fullWidth","labelId","inputLabel","menuItems","item","multiple","disableCloseOnSelect","disableClearable","options","getOptionLabel","option","renderOption","props","newValue","x","renderInput","params","displayLanguage","useEffect","selectedLayer","setSelectedLayer","layerLegend","setLayerLegend","layerBounds","setLayerBounds","layerBbox","setLayerBbox","layerOpacity","setLayerOpacity","layerVisibility","setLayerVisibility","subLayerVisibility","setSubLayerVisibility","Slider","Tooltip","Checkbox","translations","bounds","zoom","remove","opacity","visibility","layersContainer","overflow","overflowY","layerItem","display","alignItems","justifyContent","margin","padding","boxSizing","cursor","backgroundColor","zIndex","border","layerParentText","fontSize","fontWeight","layerCountTextContainer","height","layerItemText","whiteSpace","textOverflow","marginLeft","flexGroup","flexGroupButton","minHeight","minWidth","textAlign","slider","paddingLeft","paddingRight","legendSubLayerGroup","setLayerBoundsAll","layerIndex","layerKey","layerValue","getBounds","state","defaultLegends","values","reduce","prev","curr","forEach","geoviewLayerIsWMS","getLegendGraphic","dataUrl","getLocalizedValue","legend","geoviewLayerIsEsriDynamic","geoviewLayerIsEsriFeature","getLegendJson","legendArray","Array","isArray","defaultBounds","defaultSliders","defaultVisibility","defaultSubVisibility","tooltip","tooltipPlacement","icon","fitBounds","onZoom","bbox","segments","lnglats","west","south","east","north","southEast","southWest","northEast","northWest","push","lat","polygonFromBounds","toString","vector","deleteGeometry","addPolygon","style","strokeColor","fillColor","fillOpacity","onBounds","removeGeoviewLayer","onRemove","min","max","size","valueLabelDisplay","customOnChange","data","setOpacity","onSliderChange","checked","e","setEntries","onVisibilityChange","subLayer","index","oldEntries","Set","filter","drawingInfo","renderer","symbol","imageData","alt","src","contentType","uniqueValueInfos","uniqueValue","buttonPanel","addLayerVisible","mapLayers","setMapLayers","addLayer","mainContainer","flexDirection","addLayerButton","geoviewLayers","on","LAYER","EVENT_LAYER_ADDED","EVENT_REMOVE_LAYER","PANEL","EVENT_PANEL_CLOSE","buttonPanelId","off","LayersPanelPlugin","pluginId","schema","defaultConfig","layersPanel","panelStatus","pluginProps","LayersOutlinedIcon","configObj","isOpen","large","button","visible","panel","status","appBarButtons","createAppbarPanel","changeContent","this","removeAppbarPanel","AbstractPlugin","plugins","Cast"],"sourceRoot":""}