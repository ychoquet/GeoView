{"version":3,"file":"corePackages/geoview-footer-panel.js","mappings":";0yDAcO,SAASA,EAAqBC,GAAgC,IAA7BC,EAAKD,EAALC,MAC9BC,EAASC,OAATD,KACAE,EAAeF,EAAfE,IAAKC,EAAUH,EAAVG,MAELC,EAAwBD,EAAxBC,SAAUC,EAAcF,EAAdE,UAGlBC,EAA4BF,IAA2DG,GAAAC,EAAAA,EAAAA,GAAAF,EAAA,GAAhFG,EAAMF,EAAA,GAAEG,EAASH,EAAA,GACxBI,EAAkCP,EAAmB,IAAGQ,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAAjDE,EAASD,EAAA,GAAEE,EAAYF,EAAA,GAExBG,EAAe,WAAM,IAAAC,OACiBC,KAAjB,QAArBD,EAAAd,EAAIgB,KAAKnB,GAAOoB,aAAK,IAAAH,OAAA,EAArBA,EAAuBI,aAA0BN,GAAaO,EAAAA,EAAAA,GAAInB,EAAIgB,KAAKnB,GAAOoB,MAAMC,YAAYE,UAC1G,EAEMC,EAAiC,WAAH,OAASR,GAAc,EACrDS,EAAmC,SAACC,IACpCC,EAAAA,EAAAA,KAA4BD,IAC9BX,GAAa,SAACa,GAAa,OACzBA,EAAcC,QAAO,SAACC,GAAO,OAAKA,IAAaJ,EAA0CK,aAAaC,cAAc,GAAC,GAG3H,EAEMC,EAAgC,SAACP,IACjCQ,EAAAA,EAAAA,KAAsBR,IACxBvB,EAAIgC,MAAMC,GACRjC,EAAIkC,WAAWC,MAAMC,mBACrB,WACEvB,IACAb,EAAIgC,MAAMK,IAAIrC,EAAIkC,WAAWC,MAAMC,kBAAmB,GAAFE,OAAKzC,EAAK,KAAAyC,OAAKf,EAA+BgB,YAAYV,gBAChH,GAAC,GAAAS,OACEzC,EAAK,KAAAyC,OAAKf,EAA+BgB,YAAYV,gBAG9D,EAoBA,OAlBA1B,GAAU,WAKR,OAJAH,EAAIgC,MAAMC,GAAGjC,EAAIkC,WAAWM,IAAIC,iBAAkBpB,EAAgCxB,GAClFG,EAAIgC,MAAMC,GAAGjC,EAAIkC,WAAWC,MAAMO,mBAAoBpB,EAAkCzB,GACxFG,EAAIgC,MAAMC,GAAGjC,EAAIkC,WAAWC,MAAMQ,gBAAiBb,EAA+BjC,GAE3E,WACLG,EAAIgC,MAAMK,IAAIrC,EAAIkC,WAAWM,IAAIC,iBAAkB5C,EAAOwB,GAC1DrB,EAAIgC,MAAMK,IAAIrC,EAAIkC,WAAWC,MAAMO,mBAAoB7C,EAAOyB,GAC9DtB,EAAIgC,MAAMK,IAAIrC,EAAIkC,WAAWC,MAAMQ,gBAAiB9C,EAAOiC,EAC7D,CAEF,GAAG,IAEH3B,GAAU,WACRK,EAAUR,EAAIgB,KAAKnB,GAAOU,OAAOqC,aAAa,CAAEC,SAAUlC,EAAWmC,cAAc,EAAOC,eAAe,EAAMC,WAAW,IAE5H,GAAG,CAACrC,KAEGsC,EAAAA,EAAAA,KAAA,OAAAC,SAAM3C,GACf,C,mCCzDO,SAAS4C,EAASvD,GAA4B,IAAzBC,EAAKD,EAALC,MAClBC,EAASC,OAATD,KACAE,EAAeF,EAAfE,IAAKC,EAAUH,EAAVG,MACLC,EAAwBD,EAAxBC,SAAUC,EAAcF,EAAdE,UAElBC,EAA0BF,EAAS,MAAKG,GAAAC,EAAAA,EAAAA,GAAAF,EAAA,GAAjCgD,EAAK/C,EAAA,GAAEgD,EAAQhD,EAAA,GAKhBiD,EAAe,eAAAC,GAAAC,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAC,IAAA,IAAAC,EAAA,OAAAF,IAAAA,MAAA,SAAAG,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACHhE,EAAKE,IAAIgB,KAAKnB,GAAOkE,UAAUC,kBAAiB,OAA7DL,EAAIC,EAAAK,KACVZ,EAASM,GAAM,wBAAAC,EAAAM,OAAA,GAAAR,EAAA,KAChB,kBAHoB,OAAAH,EAAAY,MAAA,KAAAC,UAAA,KAQfC,EAAe,WACnBC,YAAW,WACThB,GACF,GAAG,IACL,EAUA,OARAnD,GAAU,WAER,OADAH,EAAIgC,MAAMC,GAAGjC,EAAIkC,WAAWM,IAAIC,iBAAkB4B,EAAcxE,GACzD,WACLG,EAAIgC,MAAMK,IAAIrC,EAAIkC,WAAWM,IAAIC,iBAAkB5C,EAAOwE,EAC5D,CAEF,GAAG,KAEIpB,EAAAA,EAAAA,KAAA,OAAAC,SAAME,GACf,CC/BO,SAASmB,EAAM3E,GAAgC,IAA7BC,EAAKD,EAALC,MACfC,EAASC,OAATD,KACAE,EAAeF,EAAfE,IAAKC,EAAUH,EAAVG,MAELC,EAAwBD,EAAxBC,SAAUC,EAAcF,EAAdE,UAGlBC,EAA4BF,IAA2DG,GAAAC,EAAAA,EAAAA,GAAAF,EAAA,GAAhFoE,EAAMnE,EAAA,GAAEoE,EAASpE,EAAA,GACxBI,EAAkCP,EAAmB,IAAGQ,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAAjDE,EAASD,EAAA,GAAEE,EAAYF,EAAA,GAExBG,EAAe,WAAM,IAAAC,OACiBC,KAAjB,QAArBD,EAAAd,EAAIgB,KAAKnB,GAAOoB,aAAK,IAAAH,OAAA,EAArBA,EAAuBI,aAA0BN,GAAaO,EAAAA,EAAAA,GAAInB,EAAIgB,KAAKnB,GAAOoB,MAAMC,YAAYE,UAC1G,EAEMC,EAAiC,WAAH,OAASR,GAAc,EACrDS,EAAmC,SAACC,IACpCC,EAAAA,EAAAA,KAA4BD,IAC9BX,GAAa,SAACa,GAAa,OACzBA,EAAcC,QAAO,SAACC,GAAO,OAAKA,IAAaJ,EAA0CK,aAAaC,cAAc,GAAC,GAG3H,EAEMC,EAAgC,SAACP,IACjCQ,EAAAA,EAAAA,KAAsBR,IACxBvB,EAAIgC,MAAMC,GACRjC,EAAIkC,WAAWC,MAAMC,mBACrB,WACEvB,IACAb,EAAIgC,MAAMK,IAAIrC,EAAIkC,WAAWC,MAAMC,kBAAmB,GAAFE,OAAKzC,EAAK,KAAAyC,OAAKf,EAA+BgB,YAAYV,gBAChH,GAAC,GAAAS,OACEzC,EAAK,KAAAyC,OAAKf,EAA+BgB,YAAYV,gBAG9D,EAoBA,OAlBA1B,GAAU,WAKR,OAJAH,EAAIgC,MAAMC,GAAGjC,EAAIkC,WAAWM,IAAIC,iBAAkBpB,EAAgCxB,GAClFG,EAAIgC,MAAMC,GAAGjC,EAAIkC,WAAWC,MAAMO,mBAAoBpB,EAAkCzB,GACxFG,EAAIgC,MAAMC,GAAGjC,EAAIkC,WAAWC,MAAMQ,gBAAiBb,EAA+BjC,GAE3E,WACLG,EAAIgC,MAAMK,IAAIrC,EAAIkC,WAAWM,IAAIC,iBAAkB5C,EAAOwB,GAC1DrB,EAAIgC,MAAMK,IAAIrC,EAAIkC,WAAWC,MAAMO,mBAAoB7C,EAAOyB,GAC9DtB,EAAIgC,MAAMK,IAAIrC,EAAIkC,WAAWC,MAAMQ,gBAAiB9C,EAAOiC,EAC7D,CAEF,GAAG,IAEH3B,GAAU,WACRsE,EAAUzE,EAAIgB,KAAKnB,GAAO2E,OAAOE,aAAa,CAAE7B,SAAUlC,EAAWmC,cAAc,EAAOC,eAAe,EAAMC,WAAW,IAE5H,GAAG,CAACrC,KAEGsC,EAAAA,EAAAA,KAAA,OAAAC,SAAMsB,GACf,C,qQCrDA,IAGMG,EAAiB,SAAAC,GAAA,SAAAD,IAAA,IAAAE,GAAAC,EAAAA,EAAAA,GAAA,KAAAH,GAAA,QAAAI,EAAAX,UAAAY,OAAAC,EAAA,IAAAC,MAAAH,GAAAI,EAAA,EAAAA,EAAAJ,EAAAI,IAAAF,EAAAE,GAAAf,UAAAe,GAuCnB,OAvCmBN,EAAAO,EAAA,KAAAT,EAAA,GAAArC,OAAA2C,KACrBI,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,GAAAT,GAAA,UAKS,kBAAuBU,CAAM,KAEtCF,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,GAAAT,GAAA,iBAKgB,kBAAsBW,EAAAA,EAAAA,KAAaC,EAAc,KAEjEJ,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,GAAAT,GAAA,gBAGeW,EAAAA,EAAAA,KAAa,CAC1BE,GAAI,CACFC,YAAa,CACXpF,OAAQ,SACRiE,OAAQ,SACRoB,QAAS,UACT7B,UAAW,YACX8B,WAAY,cACZC,SAAU,UAGdC,GAAI,CACFJ,YAAa,CACXpF,OAAQ,UACRiE,OAAQ,UACRoB,QAAS,UACT7B,UAAW,UACX8B,WAAY,mBACZC,SAAU,iBAGdjB,CAAA,CA8GD,OArJoBmB,EAAAA,EAAAA,GAAArB,EAAAC,IAuCnBqB,EAAAA,EAAAA,GAAAtB,EAAA,EAAAuB,IAAA,QAAAC,MAKF,WAAc,IAAAC,EAAAC,EAAAC,EAAA,KACNC,GAA6B,QAAfH,EAACI,KAAKC,iBAAS,IAAAL,OAAA,EAAdA,EAAgBM,KAAKH,cAAiC,GACvEI,EAAc,EA0BlB,GAzBIJ,EAAYK,SAAS,YAEvBJ,KAAKK,MAAMC,WAAWC,gBAAgB,CACpCC,GAAI,SACJb,MAAOQ,EACPM,MAAO,qBACPC,QAAS,kBAAMjE,EAAAA,EAAAA,KAACtD,EAAqB,CAACE,MAAOyG,EAAKa,YAAYtH,OAAS,EACvEuH,MAAMnE,EAAAA,EAAAA,KAACoE,EAAAA,gBAAe,MAExBV,KAGEJ,EAAYK,SAAS,YAEvBJ,KAAKK,MAAMC,WAAWC,gBAAgB,CACpCC,GAAI,SACJb,MAAOQ,EACPM,MAAO,qBACPC,QAAS,kBAAMjE,EAAAA,EAAAA,KAACsB,EAAM,CAAC1E,MAAOyG,EAAKa,YAAYtH,OAAS,EACxDuH,MAAMnE,EAAAA,EAAAA,KAACqE,EAAAA,mBAAkB,MAE3BX,KAIEJ,EAAYK,SAAS,WAAY,CAEnC,IAAMW,EAAkBZ,EACxBH,KAAKK,MAAMC,WAAWC,gBAAgB,CACpCC,GAAI,UACJb,MAAOoB,EACPN,MAAO,sBACPC,QAAS,eAAAM,EAAA,OAAgB,QAAhBA,EAAMlB,EAAKO,aAAK,IAAAW,OAAA,EAAVA,EAAY5B,QAAQ6B,cAAcnB,EAAKa,YAAYtH,MAAM,EACxEuH,MAAMnE,EAAAA,EAAAA,KAACyE,EAAAA,iBAAgB,MAEzBf,GACF,CAEIJ,EAAYK,SAAS,gBAEvBJ,KAAKK,MAAMC,WAAWC,gBAAgB,CACpCC,GAAI,aACJb,MAAOQ,EACPM,MAAO,wBACPC,QAAS,kBAAMjE,EAAAA,EAAAA,KAACE,EAAS,CAACtD,MAAOyG,EAAKa,YAAYtH,OAAS,EAC3DuH,MAAMnE,EAAAA,EAAAA,KAAC0E,EAAAA,YAAW,MAEpBhB,KAGEJ,EAAYK,SAAS,gBAEvBJ,KAAKxG,IAAI4H,OACNC,WAAW,eACXC,MAAK,SAACC,GACLzB,EAAKtG,IAAI4H,OAAOI,UACd,cACA1B,EAAKa,YAAYtH,MACjBkI,GACAvC,EAAAA,EAAAA,KAAa,CACX3F,MAAOyG,EAAKa,YAAYtH,QAG9B,IAGA0G,EAAYK,SAAS,aAEvBJ,KAAKxG,IAAI4H,OACNC,WAAW,YACXC,MAAK,SAACC,GACLzB,EAAKtG,IAAI4H,OAAOI,UACd,WACA1B,EAAKa,YAAYtH,MACjBkI,GACAvC,EAAAA,EAAAA,KAAa,CACX3F,MAAOyG,EAAKa,YAAYtH,QAG9B,IAMJ,IADA,IAAMoI,EAA2B,QAAjB5B,EAAGG,KAAKC,iBAAS,IAAAJ,OAAA,EAAdA,EAAgBK,KAAKuB,WAC/BC,EAAI,EAAGA,EAAID,EAAWjD,OAAQkD,IAAK,CAC1C,IAAMC,EAAMF,EAAWC,GACvB1B,KAAKK,MAAMC,WAAWC,gBAAgB,CACpCC,GAAImB,EAAInB,GACRb,MAAOQ,EACPM,MAAOkB,EAAIC,MACXlB,QAASiB,EAAIE,cAEf1B,GACF,CACF,GAEA,CAAAT,IAAA,WAAAC,MAGA,WACE,KACDxB,CAAA,CArJoB,CAAS2D,EAAAA,GA2JhCvI,OAAOwI,eAAiBxI,OAAOwI,gBAAkB,CAAC,EAClDxI,OAAOwI,eAAe,iBAAkBC,EAAAA,EAAAA,KAAwB7D,E","sources":["webpack://geoview-core/../geoview-footer-panel/src/footer-panel-legend-item.tsx","webpack://geoview-core/../geoview-footer-panel/src/data-table.tsx","webpack://geoview-core/../geoview-footer-panel/src/layers.tsx","webpack://geoview-core/../geoview-footer-panel/src/index.tsx"],"sourcesContent":["/* eslint-disable react/require-default-props */\nimport type React from 'react';\nimport { payloadIsALayerConfig, payloadIsRemoveGeoViewLayer } from 'geoview-core';\nimport { LayerConfigPayload, PayloadBaseClass, TypeRemoveGeoviewLayerPayload } from 'geoview-core/src/api/events/payloads';\n\ninterface Props {\n  mapId: string;\n}\n\n/**\n * Create an element that displays the legend component\n *\n * @returns {JSX.Element} created legend component\n */\nexport function FooterPanelLegendItem({ mapId }: Props): JSX.Element {\n  const { cgpv } = window;\n  const { api, react } = cgpv;\n\n  const { useState, useEffect } = react;\n\n  // eslint-disable-next-line @typescript-eslint/ban-types\n  const [legend, setLegend] = useState<React.DetailedReactHTMLElement<{}, HTMLElement>>();\n  const [mapLayers, setMapLayers] = useState<string[]>([]);\n\n  const updateLayers = () => {\n    if (api.maps[mapId].layer?.layerOrder !== undefined) setMapLayers([...api.maps[mapId].layer.layerOrder].reverse());\n  };\n\n  const eventMapLoadedListenerFunction = () => updateLayers();\n  const eventRemoveLayerListenerFunction = (payload: PayloadBaseClass) => {\n    if (payloadIsRemoveGeoViewLayer(payload)) {\n      setMapLayers((orderedLayers) =>\n        orderedLayers.filter((layerId) => layerId !== (payload as TypeRemoveGeoviewLayerPayload).geoviewLayer.geoviewLayerId)\n      );\n    }\n  };\n\n  const eventAddLayerListenerFunction = (payload: PayloadBaseClass) => {\n    if (payloadIsALayerConfig(payload)) {\n      api.event.on(\n        api.eventNames.LAYER.EVENT_LAYER_ADDED,\n        () => {\n          updateLayers();\n          api.event.off(api.eventNames.LAYER.EVENT_LAYER_ADDED, `${mapId}/${(payload as LayerConfigPayload).layerConfig.geoviewLayerId}`);\n        },\n        `${mapId}/${(payload as LayerConfigPayload).layerConfig.geoviewLayerId}`\n      );\n    }\n  };\n\n  useEffect(() => {\n    api.event.on(api.eventNames.MAP.EVENT_MAP_LOADED, eventMapLoadedListenerFunction, mapId);\n    api.event.on(api.eventNames.LAYER.EVENT_REMOVE_LAYER, eventRemoveLayerListenerFunction, mapId);\n    api.event.on(api.eventNames.LAYER.EVENT_ADD_LAYER, eventAddLayerListenerFunction, mapId);\n\n    return () => {\n      api.event.off(api.eventNames.MAP.EVENT_MAP_LOADED, mapId, eventMapLoadedListenerFunction);\n      api.event.off(api.eventNames.LAYER.EVENT_REMOVE_LAYER, mapId, eventRemoveLayerListenerFunction);\n      api.event.off(api.eventNames.LAYER.EVENT_ADD_LAYER, mapId, eventAddLayerListenerFunction);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    setLegend(api.maps[mapId].legend.createLegend({ layerIds: mapLayers, isRemoveable: false, canSetOpacity: true, canZoomTo: true }));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [mapLayers]);\n\n  return <div>{legend}</div>;\n}\n","import type React from 'react';\n\ninterface DataTableProps {\n  mapId: string;\n}\n\n/**\n * Create the datatable that displays in footer panel.\n *\n * @returns {JSX.Element} created data table component\n */\n\nexport function DataTable({ mapId }: DataTableProps) {\n  const { cgpv } = window;\n  const { api, react } = cgpv;\n  const { useState, useEffect } = react;\n\n  const [table, setTable] = useState(null);\n\n  /**\n   * Create data table from geo view layers.\n   */\n  const createDataTable = async () => {\n    const data = await cgpv.api.maps[mapId].dataTable.createDataPanel();\n    setTable(data);\n  };\n\n  /**\n   * get the table after map is loaded and timeout has been passed.\n   */\n  const getDataTable = () => {\n    setTimeout(() => {\n      createDataTable();\n    }, 1000);\n  };\n\n  useEffect(() => {\n    api.event.on(api.eventNames.MAP.EVENT_MAP_LOADED, getDataTable, mapId);\n    return () => {\n      api.event.off(api.eventNames.MAP.EVENT_MAP_LOADED, mapId, getDataTable);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return <div>{table}</div>;\n}\n","/* eslint-disable react/require-default-props */\nimport type React from 'react';\nimport { payloadIsALayerConfig, payloadIsRemoveGeoViewLayer } from 'geoview-core';\nimport { LayerConfigPayload, PayloadBaseClass, TypeRemoveGeoviewLayerPayload } from 'geoview-core/src/api/events/payloads';\n\ninterface Props {\n  mapId: string;\n}\n\n/**\n * Create an element that displays the layers component\n *\n * @returns {JSX.Element} created layers component\n */\nexport function Layers({ mapId }: Props): JSX.Element {\n  const { cgpv } = window;\n  const { api, react } = cgpv;\n\n  const { useState, useEffect } = react;\n\n  // eslint-disable-next-line @typescript-eslint/ban-types\n  const [layers, setLayers] = useState<React.DetailedReactHTMLElement<{}, HTMLElement>>();\n  const [mapLayers, setMapLayers] = useState<string[]>([]);\n\n  const updateLayers = () => {\n    if (api.maps[mapId].layer?.layerOrder !== undefined) setMapLayers([...api.maps[mapId].layer.layerOrder].reverse());\n  };\n\n  const eventMapLoadedListenerFunction = () => updateLayers();\n  const eventRemoveLayerListenerFunction = (payload: PayloadBaseClass) => {\n    if (payloadIsRemoveGeoViewLayer(payload)) {\n      setMapLayers((orderedLayers) =>\n        orderedLayers.filter((layerId) => layerId !== (payload as TypeRemoveGeoviewLayerPayload).geoviewLayer.geoviewLayerId)\n      );\n    }\n  };\n\n  const eventAddLayerListenerFunction = (payload: PayloadBaseClass) => {\n    if (payloadIsALayerConfig(payload)) {\n      api.event.on(\n        api.eventNames.LAYER.EVENT_LAYER_ADDED,\n        () => {\n          updateLayers();\n          api.event.off(api.eventNames.LAYER.EVENT_LAYER_ADDED, `${mapId}/${(payload as LayerConfigPayload).layerConfig.geoviewLayerId}`);\n        },\n        `${mapId}/${(payload as LayerConfigPayload).layerConfig.geoviewLayerId}`\n      );\n    }\n  };\n\n  useEffect(() => {\n    api.event.on(api.eventNames.MAP.EVENT_MAP_LOADED, eventMapLoadedListenerFunction, mapId);\n    api.event.on(api.eventNames.LAYER.EVENT_REMOVE_LAYER, eventRemoveLayerListenerFunction, mapId);\n    api.event.on(api.eventNames.LAYER.EVENT_ADD_LAYER, eventAddLayerListenerFunction, mapId);\n\n    return () => {\n      api.event.off(api.eventNames.MAP.EVENT_MAP_LOADED, mapId, eventMapLoadedListenerFunction);\n      api.event.off(api.eventNames.LAYER.EVENT_REMOVE_LAYER, mapId, eventRemoveLayerListenerFunction);\n      api.event.off(api.eventNames.LAYER.EVENT_ADD_LAYER, mapId, eventAddLayerListenerFunction);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    setLayers(api.maps[mapId].layers.createLayers({ layerIds: mapLayers, isRemoveable: false, canSetOpacity: true, canZoomTo: true }));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [mapLayers]);\n\n  return <div>{layers}</div>;\n}\n","import { Cast, toJsonObject, TypeJsonObject, AnySchemaObject, TypeJsonValue } from 'geoview-core';\nimport { AbstractPlugin } from 'geoview-core/src/api/plugin/abstract-plugin';\nimport { HubOutlinedIcon, InfoOutlinedIcon, LayersOutlinedIcon, StorageIcon } from 'geoview-core/src/ui';\n\nimport schema from '../schema.json';\nimport defaultConfig from '../default-config-footer-panel.json';\nimport { FooterPanelLegendItem } from './footer-panel-legend-item';\nimport { DataTable } from './data-table';\nimport { Layers } from './layers';\n\ntype CustomTabs = {\n  id: string;\n  title: string;\n  contentHTML: string;\n};\n\n/**\n * Create a class for the plugin instance\n */\nclass FooterPanelPlugin extends AbstractPlugin {\n  /**\n   * Return the package schema\n   *\n   * @returns {AnySchemaObject} the package schema\n   */\n  schema = (): AnySchemaObject => schema;\n\n  /**\n   * Return the default config for this package\n   *\n   * @returns {TypeJsonObject} the default config\n   */\n  defaultConfig = (): TypeJsonObject => toJsonObject(defaultConfig);\n\n  /**\n   * translations object to inject to the viewer translations\n   */\n  translations = toJsonObject({\n    en: {\n      footerPanel: {\n        legend: 'Legend',\n        layers: 'Layers',\n        details: 'Details',\n        dataTable: 'DataTable',\n        timeSlider: 'Time Slider',\n        geochart: 'Chart',\n      },\n    },\n    fr: {\n      footerPanel: {\n        legend: 'Légende',\n        layers: 'Couches',\n        details: 'Détails',\n        dataTable: 'Données',\n        timeSlider: 'Curseur Temporel',\n        geochart: 'Graphique',\n      },\n    },\n  });\n\n  /**\n   * Function called when plugin is being added\n   */\n  onAdd(): void {\n    const defaultTabs = (this.configObj?.tabs.defaultTabs as Array<string>) || [];\n    let tabsCounter = 0;\n    if (defaultTabs.includes('legend')) {\n      // create new tab and add the LegendComponent to the footer tab\n      this.map().footerTabs.createFooterTab({\n        id: 'legend',\n        value: tabsCounter,\n        label: 'footerPanel.legend',\n        content: () => <FooterPanelLegendItem mapId={this.pluginProps.mapId} />,\n        icon: <HubOutlinedIcon />,\n      });\n      tabsCounter++;\n    }\n\n    if (defaultTabs.includes('layers')) {\n      // create new tab and add the LayersComponent to the footer tab\n      this.map().footerTabs.createFooterTab({\n        id: 'layers',\n        value: tabsCounter,\n        label: 'footerPanel.layers',\n        content: () => <Layers mapId={this.pluginProps.mapId} />,\n        icon: <LayersOutlinedIcon />,\n      });\n      tabsCounter++;\n    }\n\n    // create the listener to return the details\n    if (defaultTabs.includes('details')) {\n      // create new tab and add the DetailComponent to the footer tab\n      const detailsTabValue = tabsCounter;\n      this.map().footerTabs.createFooterTab({\n        id: 'details',\n        value: detailsTabValue,\n        label: 'footerPanel.details',\n        content: () => this.map()?.details.createDetails(this.pluginProps.mapId),\n        icon: <InfoOutlinedIcon />,\n      });\n      tabsCounter++;\n    }\n\n    if (defaultTabs.includes('data-table')) {\n      /// create new tab and add the DataTable Component to the footer tab\n      this.map().footerTabs.createFooterTab({\n        id: 'data-table',\n        value: tabsCounter,\n        label: 'footerPanel.dataTable',\n        content: () => <DataTable mapId={this.pluginProps.mapId} />,\n        icon: <StorageIcon />,\n      });\n      tabsCounter++;\n    }\n\n    if (defaultTabs.includes('time-slider')) {\n      /// create a new tab by loading the time-slider plugin\n      this.api.plugin\n        .loadScript('time-slider')\n        .then((constructor: AbstractPlugin | ((pluginId: string, props: TypeJsonObject) => TypeJsonValue)) => {\n          this.api.plugin.addPlugin(\n            'time-slider',\n            this.pluginProps.mapId,\n            constructor,\n            toJsonObject({\n              mapId: this.pluginProps.mapId,\n            })\n          );\n        });\n    }\n\n    if (defaultTabs.includes('geoChart')) {\n      // create a new tab by loading the geo chart plugin\n      this.api.plugin\n        .loadScript('geochart')\n        .then((constructor: AbstractPlugin | ((pluginId: string, props: TypeJsonObject) => TypeJsonValue)) => {\n          this.api.plugin.addPlugin(\n            'geochart',\n            this.pluginProps.mapId,\n            constructor,\n            toJsonObject({\n              mapId: this.pluginProps.mapId,\n            })\n          );\n        });\n    }\n\n    // TODO add custom detail reusable component when done\n\n    const customTabs = this.configObj?.tabs.customTabs as Array<string>;\n    for (let i = 0; i < customTabs.length; i++) {\n      const tab = customTabs[i] as unknown as CustomTabs;\n      this.map().footerTabs.createFooterTab({\n        id: tab.id,\n        value: tabsCounter,\n        label: tab.title,\n        content: tab.contentHTML,\n      });\n      tabsCounter++;\n    }\n  }\n\n  /**\n   * Function called when plugin is being removed, used for clean up\n   */\n  onRemove(): void {\n    // TODO: Enable the footer tabs removal\n  }\n}\n\nexport default FooterPanelPlugin;\n\n// Keep a reference to the Footer Panel Plugin as part of the geoviewPlugins property stored in the window object\nwindow.geoviewPlugins = window.geoviewPlugins || {};\nwindow.geoviewPlugins['footer-panel'] = Cast<FooterPanelPlugin>(FooterPanelPlugin);\n"],"names":["FooterPanelLegendItem","_ref","mapId","cgpv","window","api","react","useState","useEffect","_useState","_useState2","_slicedToArray","legend","setLegend","_useState3","_useState4","mapLayers","setMapLayers","updateLayers","_api$maps$mapId$layer","undefined","maps","layer","layerOrder","_toConsumableArray","reverse","eventMapLoadedListenerFunction","eventRemoveLayerListenerFunction","payload","payloadIsRemoveGeoViewLayer","orderedLayers","filter","layerId","geoviewLayer","geoviewLayerId","eventAddLayerListenerFunction","payloadIsALayerConfig","event","on","eventNames","LAYER","EVENT_LAYER_ADDED","off","concat","layerConfig","MAP","EVENT_MAP_LOADED","EVENT_REMOVE_LAYER","EVENT_ADD_LAYER","createLegend","layerIds","isRemoveable","canSetOpacity","canZoomTo","_jsx","children","DataTable","table","setTable","createDataTable","_ref2","_asyncToGenerator","_regeneratorRuntime","_callee","data","_context","prev","next","dataTable","createDataPanel","sent","stop","apply","arguments","getDataTable","setTimeout","Layers","layers","setLayers","createLayers","FooterPanelPlugin","_AbstractPlugin","_this","_classCallCheck","_len","length","args","Array","_key","_callSuper","_defineProperty","_assertThisInitialized","schema","toJsonObject","defaultConfig","en","footerPanel","details","timeSlider","geochart","fr","_inherits","_createClass","key","value","_this$configObj","_this$configObj2","_this2","defaultTabs","this","configObj","tabs","tabsCounter","includes","map","footerTabs","createFooterTab","id","label","content","pluginProps","icon","HubOutlinedIcon","LayersOutlinedIcon","detailsTabValue","_this2$map","createDetails","InfoOutlinedIcon","StorageIcon","plugin","loadScript","then","constructor","addPlugin","customTabs","i","tab","title","contentHTML","AbstractPlugin","geoviewPlugins","Cast"],"sourceRoot":""}